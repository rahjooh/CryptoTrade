{
  "widgets": [
    {
      "type": "metric",
      "x": 0,
      "y": 0,
      "width": 6,
      "height": 3,
      "properties": {
        "view": "singleValue",
        "region": "ap-south-1",
        "metrics": [["CryptoFlow", "Hadi-IngestRate", {"stat": "Sum"}]],
        "period": 60,
        "title": "Ingest Rate (msg/s)"
      }
    },
    {
      "type": "metric",
      "x": 6,
      "y": 0,
      "width": 6,
      "height": 3,
      "properties": {
        "view": "singleValue",
        "region": "ap-south-1",
        "metrics": [["CryptoFlow", "Hadi-ParquetWriteErrors", {"stat": "Sum"}]],
        "period": 300,
        "title": "Parquet Write Errors"
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 0,
      "width": 6,
      "height": 3,
      "properties": {
        "view": "singleValue",
        "region": "ap-south-1",
        "metrics": [["CryptoFlow", "Hadi-RetryCount", {"stat": "Sum"}]],
        "period": 300,
        "title": "Retries"
      }
    },
    {
      "type": "metric",
      "x": 18,
      "y": 0,
      "width": 6,
      "height": 3,
      "properties": {
        "view": "singleValue",
        "region": "ap-south-1",
        "metrics": [["CryptoFlow", "Hadi-DroppedMessages", {"stat": "Sum"}]],
        "period": 60,
        "title": "Dropped Messages"
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 3,
      "width": 12,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "metrics": [
          ["CryptoFlow", "fobs_raw_buffer_length", "component", "channel_buffers", "buffer", "fobs_raw", {"stat": "Average"}],
          [".", "fobs_norm_buffer_length", ".", ".", "buffer", "fobs_norm", {"stat": "Average"}]
        ],
        "period": 60,
        "title": "Snapshot Channel Depth"
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 3,
      "width": 12,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "metrics": [
          ["CryptoFlow", "fobd_raw_buffer_length", "component", "channel_buffers", "buffer", "fobd_raw", {"stat": "Average"}],
          [".", "fobd_norm_buffer_length", ".", ".", "buffer", "fobd_norm", {"stat": "Average"}]
        ],
        "period": 60,
        "title": "Delta Channel Depth"
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 9,
      "width": 12,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "metrics": [
          ["CryptoFlow", "Hadi-ChannelMessages", "Channel", "snapshot_rest", {"stat": "Sum"}],
          [".", ".", "Channel", "delta_ws", {"stat": "Sum"}],
          [".", ".", "Channel", "s3_snapshot_write", {"stat": "Sum"}],
          [".", ".", "Channel", "s3_delta_write", {"stat": "Sum"}]
        ],
        "period": 60,
        "title": "Channel Messages"
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 9,
      "width": 12,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "metrics": [
          ["CryptoFlow", "Hadi-ChannelBytes", "Channel", "snapshot_rest", {"stat": "Sum"}],
          [".", ".", "Channel", "delta_ws", {"stat": "Sum"}],
          [".", ".", "Channel", "s3_snapshot_write", {"stat": "Sum"}],
          [".", ".", "Channel", "s3_delta_write", {"stat": "Sum"}]
        ],
        "period": 60,
        "title": "Channel Bytes",
        "yAxis": {"left": {"label": "bytes"}}
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 15,
      "width": 12,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "title": "Binance Used Weight",
        "metrics": [
          ["CryptoFlow", "used_weight", "component", "binance_reader", {"label": "Used", "stat": "Average"}],
          ["CryptoFlow", "used_weight_estimated_ws", "component", "binance_reader", {"label": "WS Estimate", "stat": "Average"}],
          ["CryptoFlow", "used_weight_total_estimate", "component", "binance_reader", {"label": "Combined", "stat": "Average"}]
        ],
        "period": 60
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 15,
      "width": 12,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "title": "Bybit Request Usage",
        "metrics": [
          ["CryptoFlow", "requests_limit", "component", "bybit_reader", {"label": "Limit", "stat": "Average"}],
          ["CryptoFlow", "requests_remaining", "component", "bybit_reader", {"label": "Remaining", "stat": "Average"}],
          ["CryptoFlow", "requests_used", "component", "bybit_reader", {"label": "Used", "stat": "Average"}]
        ],
        "period": 60
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 21,
      "width": 12,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "title": "KuCoin Used Weight",
        "metrics": [
          ["CryptoFlow", "used_weight", "component", "kucoin_reader", {"label": "Used", "stat": "Average"}],
          ["CryptoFlow", "used_weight_estimated_extra", "component", "kucoin_reader", {"label": "Extra", "stat": "Average"}],
          ["CryptoFlow", "used_weight_total_estimate", "component", "kucoin_reader", {"label": "Total", "stat": "Average"}]
        ],
        "period": 60
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 21,
      "width": 12,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "title": "OKX Usage",
        "metrics": [
          ["CryptoFlow", "used_weight", "component", "okx_reader", {"label": "Used", "stat": "Average"}],
          ["CryptoFlow", "used_weight_estimated_extra", "component", "okx_reader", {"label": "WS Pressure", "stat": "Average"}],
          ["CryptoFlow", "request_remaining_window", "component", "okx_reader", {"label": "Remaining", "stat": "Average"}]
        ],
        "period": 60
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 27,
      "width": 24,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "title": "Rate Limit Exceeded",
        "metrics": [
          ["CryptoFlow", "rate_limit_exceeded", "component", "binance_fobs", {"stat": "Sum"}],
          [".", ".", "component", "binance_fobd", {"stat": "Sum"}],
          [".", ".", "component", "okx_fobs", {"stat": "Sum"}],
          [".", ".", "component", "okx_fobd", {"stat": "Sum"}],
          [".", ".", "component", "kucoin_fobs", {"stat": "Sum"}],
          [".", ".", "component", "kucoin_fobd", {"stat": "Sum"}],
          [".", ".", "component", "bybit_fobs", {"stat": "Sum"}],
          [".", ".", "component", "bybit_fobd", {"stat": "Sum"}]
        ],
        "period": 300
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 33,
      "width": 24,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "title": "IP Bans",
        "metrics": [
          ["CryptoFlow", "ip_ban", "component", "binance_fobs", {"stat": "Sum"}],
          [".", ".", "component", "binance_fobd", {"stat": "Sum"}],
          [".", ".", "component", "okx_fobs", {"stat": "Sum"}],
          [".", ".", "component", "okx_fobd", {"stat": "Sum"}],
          [".", ".", "component", "kucoin_fobs", {"stat": "Sum"}],
          [".", ".", "component", "kucoin_fobd", {"stat": "Sum"}],
          [".", ".", "component", "bybit_fobs", {"stat": "Sum"}],
          [".", ".", "component", "bybit_fobd", {"stat": "Sum"}]
        ],
        "period": 300
      }
    }
  ]
}
