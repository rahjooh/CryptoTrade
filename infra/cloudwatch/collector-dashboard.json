{
  "widgets": [
    {
      "type": "metric",
      "x": 0,
      "y": 0,
      "width": 6,
      "height": 3,
      "properties": {
        "view": "singleValue",
        "region": "ap-south-1",
        "metrics": [
          ["CryptoFlow", "Hadi-IngestRate", { "stat": "Sum" }]
        ],
        "period": 60,
        "title": "Ingest Rate (msg/s)"
      }
    },
    {
      "type": "metric",
      "x": 6,
      "y": 0,
      "width": 6,
      "height": 3,
      "properties": {
        "view": "singleValue",
        "region": "ap-south-1",
        "metrics": [
          ["CryptoFlow", "Hadi-ParquetWriteErrors", { "stat": "Sum" }]
        ],
        "period": 300,
        "title": "Parquet Write Errors"
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 0,
      "width": 6,
      "height": 3,
      "properties": {
        "view": "singleValue",
        "region": "ap-south-1",
        "metrics": [
          ["CryptoFlow", "Hadi-RetryCount", { "stat": "Sum" }]
        ],
        "period": 300,
        "title": "Retries"
      }
    },
    {
      "type": "metric",
      "x": 18,
      "y": 0,
      "width": 6,
      "height": 3,
      "properties": {
        "view": "singleValue",
        "region": "ap-south-1",
        "metrics": [
          ["CryptoFlow", "Hadi-DroppedMessages", { "stat": "Sum" }]
        ],
        "period": 60,
        "title": "Dropped Messages"
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 3,
      "width": 12,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "metrics": [
          ["CryptoFlow", "Hadi-ErrorsSnapshot", { "stat": "Sum" }],
          [".", "Hadi-ErrorsDelta", { "stat": "Sum" }],
          [".", "Hadi-WarnsSnapshot", { "stat": "Sum" }],
          [".", "Hadi-WarnsDelta", { "stat": "Sum" }]
        ],
        "period": 300,
        "title": "Errors and Warnings"
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 3,
      "width": 12,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "metrics": [
          ["CryptoFlow", "Hadi-SnapshotReads", { "stat": "Sum" }],
          [".", "Hadi-DeltaReads", { "stat": "Sum" }],
          [".", "Hadi-S3WritesSnapshot", { "stat": "Sum" }],
          [".", "Hadi-S3WritesDelta", { "stat": "Sum" }]
        ],
        "period": 300,
        "title": "Read/Write Activity"
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 9,
      "width": 12,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "metrics": [
          ["CryptoFlow", "Hadi-ChannelMessages", "Channel", "snapshot_rest", { "stat": "Sum" }],
          [".", ".", "Channel", "delta_ws", { "stat": "Sum" }],
          [".", ".", "Channel", "s3_snapshot_write", { "stat": "Sum" }],
          [".", ".", "Channel", "s3_delta_write", { "stat": "Sum" }]
        ],
        "period": 60,
        "title": "Channel Messages"
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 9,
      "width": 12,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "metrics": [
          ["CryptoFlow", "Hadi-ChannelBytes", "Channel", "snapshot_rest", { "stat": "Sum" }],
          [".", ".", "Channel", "delta_ws", { "stat": "Sum" }],
          [".", ".", "Channel", "s3_snapshot_write", { "stat": "Sum" }],
          [".", ".", "Channel", "s3_delta_write", { "stat": "Sum" }]
        ],
        "period": 60,
        "title": "Channel Bytes",
        "yAxis": { "left": { "label": "bytes" } }
      }
    },
    {
      "type": "metric",
      "x": 6,
      "y": 15,
      "width": 12,
      "height": 6,
      "properties": {
        "view": "timeSeries",
        "region": "ap-south-1",
        "title": "CPU / Memory / Disk %",
        "period": 60,
        "stat": "Maximum",
        "metrics": [
          ["AWS/EC2", "CPUUtilization", "InstanceId", "i-0b9c363acf72f7621", { "label": "CPU" }],
          [ "Custom/EC2", "mem_used_percent", "host", "ip-172-31-1-88", { "label": "Mem"} ],
          [ "Custom/EC2", "disk_used_percent", "path", "/", "host", "ip-172-31-1-88", "device", "nvme0n1p1", "fstype", "ext4", {  "label": "Disk" } ]
        ],
        "yAxis": { "left": { "label": "%", "min": 0, "max": 100 } }
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 21,
      "width": 24,
      "height": 6,
      "properties": {
        "view": "gauge",
        "region": "ap-south-1",
        "title": "Exchange Rate Limit Status",
        "metrics": [
          ["CryptoFlow", "near_limit", "component", "binance_reader", "ip", "*", { "label": "Binance Near Limit", "stat": "Maximum" }],
          ["CryptoFlow", "banned", "component", "binance_reader", "ip", "*", { "label": "Binance Banned", "stat": "Maximum" }],
          ["CryptoFlow", "near_limit", "component", "bybit_reader", "ip", "*", { "label": "Bybit Near Limit", "stat": "Maximum" }],
          ["CryptoFlow", "banned", "component", "bybit_reader", "ip", "*", { "label": "Bybit Banned", "stat": "Maximum" }],
          ["CryptoFlow", "near_limit", "component", "kucoin_reader", "ip", "*", { "label": "Kucoin Near Limit", "stat": "Maximum" }],
          ["CryptoFlow", "banned", "component", "kucoin_reader", "ip", "*", { "label": "Kucoin Banned", "stat": "Maximum" }],
          ["CryptoFlow", "near_limit", "component", "okx_reader", "ip", "*", { "label": "OKX Near Limit", "stat": "Maximum" }],
          ["CryptoFlow", "banned", "component", "okx_reader", "ip", "*", { "label": "OKX Banned", "stat": "Maximum" }]
        ],
        "period": 60
      }
    }
  ]
}
